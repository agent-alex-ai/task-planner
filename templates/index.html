<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Planner - AI Assistant</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1>üìã Task Planner</h1>
                <span class="badge">AI Assistant Dashboard</span>
            </div>
            <div class="header-right">
                <div class="stats-summary">
                    <span class="stat-item">üìä –í—Å–µ–≥–æ: <strong id="stat-total">0</strong></span>
                    <span class="stat-item">‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ: <strong id="stat-done">0</strong></span>
                    <span class="stat-item">üîÑ –í —Ä–∞–±–æ—Ç–µ: <strong id="stat-progress">0</strong></span>
                </div>
                <button class="btn btn-primary" onclick="openModal('add-task')">+ –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</button>
            </div>
        </header>

        <!-- Kanban Board -->
        <div class="board">
            <!-- TODO Column -->
            <div class="column" data-status="todo">
                <div class="column-header">
                    <span class="column-title">üìù TODO</span>
                    <span class="task-count" id="count-todo">0</span>
                </div>
                <div class="task-list" id="todo-list">
                    <!-- Tasks will be rendered here -->
                </div>
            </div>

            <!-- IN PROGRESS Column -->
            <div class="column" data-status="in_progress">
                <div class="column-header">
                    <span class="column-title">üîÑ –í –†–ê–ë–û–¢–ï</span>
                    <span class="task-count" id="count-in_progress">0</span>
                </div>
                <div class="task-list" id="in_progress-list">
                    <!-- Tasks will be rendered here -->
                </div>
            </div>

            <!-- REVIEW Column -->
            <div class="column" data-status="review">
                <div class="column-header">
                    <span class="column-title">üëÄ –ù–ê –ü–†–û–í–ï–†–ö–ï</span>
                    <span class="task-count" id="count-review">0</span>
                </div>
                <div class="task-list" id="review-list">
                    <!-- Tasks will be rendered here -->
                </div>
            </div>

            <!-- DONE Column -->
            <div class="column" data-status="done">
                <div class="column-header">
                    <span class="column-title">‚úÖ –ì–û–¢–û–í–û</span>
                    <span class="task-count" id="count-done">0</span>
                </div>
                <div class="task-list" id="done-list">
                    <!-- Tasks will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Task Modal -->
    <div class="modal" id="task-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <form id="task-form" onsubmit="handleTaskSubmit(event)">
                <input type="hidden" id="task-id">
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" id="task-title" required placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?">
                </div>
                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="task-description" rows="3" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏..."></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–°—Ç–∞—Ç—É—Å</label>
                        <select id="task-status">
                            <option value="todo">üìù TODO</option>
                            <option value="in_progress">üîÑ –í —Ä–∞–±–æ—Ç–µ</option>
                            <option value="review">üëÄ –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</option>
                            <option value="done">‚úÖ –ì–æ—Ç–æ–≤–æ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                        <select id="task-priority">
                            <option value="0">‚≠ê –û–±—ã—á–Ω—ã–π</option>
                            <option value="1">üî• –í—ã—Å–æ–∫–∏–π</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Comments Modal -->
    <div class="modal" id="comments-modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 id="comments-title">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h2>
                <button class="close-btn" onclick="closeCommentsModal()">&times;</button>
            </div>
            <div class="comments-list" id="comments-list">
                <!-- Comments will be rendered here -->
            </div>
            <div class="comment-form">
                <textarea id="new-comment" rows="2" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."></textarea>
                <button class="btn btn-primary" onclick="addComment()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
